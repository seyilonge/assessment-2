{"ast":null,"code":"import Cookies from 'js-cookie';\nimport { UPDATE_RESERVATION } from './reservations.actions';\nimport { Reservation } from '../../../data/objects'; // Reservations default state\n\nconst reservation = new Reservation().reservationObj;\nreservation.isSelected = true;\nconst reservationsFromCache = Cookies.get('reservations') ? JSON.parse(Cookies.get('reservations')) : undefined;\nexport const reservationsDefaultState = reservationsFromCache || [reservation]; // Reducers\n\nexport default function reservations(state = reservationsDefaultState, action) {\n  const {\n    payload,\n    type\n  } = action;\n\n  switch (type) {\n    case UPDATE_RESERVATION:\n      {\n        const roomNumber = payload.roomNumber;\n        const isExistingReservation = state.some(reservation => reservation.roomNumber === roomNumber);\n        const reservations = isExistingReservation ? state.map(reservation => {\n          return reservation.roomNumber === roomNumber ? payload : reservation;\n        }) : state.concat(payload).sort((a, b) => a.roomNumber > b.roomNumber ? 1 : -1);\n        return reservations;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n;","map":{"version":3,"sources":["C:/projects/assessment-2/redux/modules/reservations/reservations.reducer.js"],"names":["Cookies","UPDATE_RESERVATION","Reservation","reservation","reservationObj","isSelected","reservationsFromCache","get","JSON","parse","undefined","reservationsDefaultState","reservations","state","action","payload","type","roomNumber","isExistingReservation","some","map","concat","sort","a","b"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,WAApB;AAEA,SAASC,kBAAT,QAAmC,wBAAnC;AACA,SAASC,WAAT,QAA4B,uBAA5B,C,CAEA;;AACA,MAAMC,WAAW,GAAG,IAAID,WAAJ,GAAkBE,cAAtC;AACAD,WAAW,CAACE,UAAZ,GAAyB,IAAzB;AACA,MAAMC,qBAAqB,GAAGN,OAAO,CAACO,GAAR,CAAa,cAAb,IACxBC,IAAI,CAACC,KAAL,CAAYT,OAAO,CAACO,GAAR,CAAa,cAAb,CAAZ,CADwB,GAExBG,SAFN;AAIA,OAAO,MAAMC,wBAAwB,GAAGL,qBAAqB,IAAI,CAACH,WAAD,CAA1D,C,CAEP;;AACA,eAAe,SAASS,YAAT,CACXC,KAAK,GAAGF,wBADG,EAEXG,MAFW,EAGb;AACE,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAoBF,MAA1B;;AACA,UAASE,IAAT;AACI,SAAKf,kBAAL;AAAyB;AACrB,cAAMgB,UAAU,GAAGF,OAAO,CAACE,UAA3B;AACA,cAAMC,qBAAqB,GAAGL,KAAK,CAACM,IAAN,CAAYhB,WAAW,IAAIA,WAAW,CAACc,UAAZ,KAA2BA,UAAtD,CAA9B;AACA,cAAML,YAAY,GAAGM,qBAAqB,GACpCL,KAAK,CAACO,GAAN,CAAWjB,WAAW,IAAI;AACxB,iBAAOA,WAAW,CAACc,UAAZ,KAA2BA,UAA3B,GAAwCF,OAAxC,GAAkDZ,WAAzD;AACH,SAFC,CADoC,GAIpCU,KAAK,CAACQ,MAAN,CAAcN,OAAd,EAAwBO,IAAxB,CAA8B,CAAEC,CAAF,EAAKC,CAAL,KAAYD,CAAC,CAACN,UAAF,GAAeO,CAAC,CAACP,UAAjB,GAA8B,CAA9B,GAAkC,CAAC,CAA7E,CAJN;AAMA,eAAOL,YAAP;AACH;;AACD;AAAS;AACL,eAAOC,KAAP;AACH;AAdL;AAgBH;AAAA","sourcesContent":["import Cookies from 'js-cookie';\r\n\r\nimport { UPDATE_RESERVATION } from './reservations.actions';\r\nimport { Reservation } from '../../../data/objects';\r\n\r\n// Reservations default state\r\nconst reservation = new Reservation().reservationObj;\r\nreservation.isSelected = true;\r\nconst reservationsFromCache = Cookies.get( 'reservations' )\r\n    ? JSON.parse( Cookies.get( 'reservations' ) )\r\n    : undefined;\r\n\r\nexport const reservationsDefaultState = reservationsFromCache || [reservation];\r\n\r\n// Reducers\r\nexport default function reservations (\r\n    state = reservationsDefaultState,\r\n    action\r\n) {\r\n    const { payload, type } = action;\r\n    switch ( type ) {\r\n        case UPDATE_RESERVATION: {\r\n            const roomNumber = payload.roomNumber;\r\n            const isExistingReservation = state.some( reservation => reservation.roomNumber === roomNumber );\r\n            const reservations = isExistingReservation\r\n                ? state.map( reservation => {\r\n                    return reservation.roomNumber === roomNumber ? payload : reservation;\r\n                } )\r\n                : state.concat( payload ).sort( ( a, b ) => a.roomNumber > b.roomNumber ? 1 : -1 );\r\n\r\n            return reservations;\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}